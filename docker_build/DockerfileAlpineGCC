FROM alpine:latest

RUN apk update
RUN apk add build-base cmake git

WORKDIR /genesis
COPY . .

RUN git checkout master --force
RUN mkdir build

WORKDIR /genesis/build
RUN cmake -G "Unix Makefiles" ..
RUN make
